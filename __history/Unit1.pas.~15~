unit Unit1;

interface

uses
  System.SysUtils, System.Types, System.UITypes, System.Classes, System.Variants,
  FMX.Types, FMX.Controls, FMX.Forms, FMX.Graphics, FMX.Dialogs, FMX.Maps,
  FMX.Controls.Presentation, FMX.StdCtrls, FMX.ListBox;

type
  Tfprincipal = class(TForm)
    MapView1: TMapView;
    panel_top: TPanel;
    Panel2: TPanel;
    btinicio: TSpeedButton;
    btllegada: TSpeedButton;
    Lineas: TComboBox;
    procedure FormShow(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
    posicion : TMapCoordinate;
  end;

var
  fprincipal: Tfprincipal;

implementation

{$R *.fmx}
{$R *.LgXhdpiPh.fmx ANDROID}

procedure Tfprincipal.FormShow(Sender: TObject);
begin
  posicion.Latitude := -17.7817958;
  posicion.Longitude := -63.1716228;
  MapView1.Location := posicion;
  MapView1.Zoom:= 12;

end;

end.
{
var
  lt,lg : string;
  lat, long : double;
  filas, i, v: integer;
  posicion : TMapCoordinate;
  //parada : TMapMarker;
  parada : TMapMarkerDescriptor;
begin

  filas := gridparadas.RowCount;
  for i := 0 to filas do
    begin
        lg := gridparadas.Cells[1,i];
        lt := gridparadas.Cells[2,i];

        lt := StringReplace(lt, ',', '.', [rfReplaceAll, rfIgnoreCase]);
        lg :=StringReplace(lg, ',', '.', [rfReplaceAll, rfIgnoreCase]);

        val(lt,lat,v);
        val(lg,long,v);

        posicion := TMapCoordinate.Create(lat, long);

        parada := TMapMarkerDescriptor.Create(posicion,'Parada');
        parada.Snippet:= 'lg: ' + floattostr(long) + '  lt: '+ floattostr(lat);
        parada.Visible := true;
        MapView1.AddMarker(parada);

    end;
 }